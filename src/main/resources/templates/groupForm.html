<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>グループ作成</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    .member-tag {
      margin: 0.2em;
      display: inline-block;
    }
  </style>
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="text-center mb-4">グループを作成</h2>
  <form id="groupForm" action="/createGroup" method="post">
    <div class="mb-3">
      <label for="groupName" class="form-label">グループ名</label>
      <input type="text" name="groupName" id="groupName" class="form-control" required>
    </div>

    <div class="mb-3">
      <label for="memberInput" class="form-label">メンバー名</label>
      <div class="input-group">
        <input type="text" id="memberInput" class="form-control">
        <button type="button" class="btn btn-primary" onclick="addMember()">追加</button>
      </div>
      <div id="memberList" class="mt-2"></div>
    </div>

    <!-- 追加したメンバー名をまとめて送る -->
    <input type="hidden" name="members" id="membersHidden">

    <button type="submit" class="btn btn-danger w-100">グループを作成</button>
  </form>

  <div class="text-center text-muted mt-5">
    ここに広告スペース
  </div>
</div>

<script>
  const members = [];
  function addMember() {
    const name = document.getElementById("memberInput").value.trim();
    if (name) {
      members.push(name);
      document.getElementById("membersHidden").value = members.join(",");
      const tag = document.createElement("span");
      tag.className = "badge bg-secondary member-tag";
      tag.textContent = name;
      document.getElementById("memberList").appendChild(tag);
      document.getElementById("memberInput").value = "";
    }
  }
</script>

</body>
</html>
